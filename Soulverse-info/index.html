<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>生成你的数字孪生 - Soulverse</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- 背景效果 -->
    <div class="background">
        <div class="stars"></div>
        <div class="gradient-orb orb-1"></div>
        <div class="gradient-orb orb-2"></div>
        <div class="gradient-orb orb-3"></div>
    </div>

    <!-- 主容器 -->
    <div class="container">
        <!-- 步骤1: MBTI选择方式 -->
        <div id="step-mbti" class="step active">
            <div class="step-header">
                <div class="step-number">01</div>
                <h1 class="step-title">了解你的MBTI类型</h1>
                <p class="step-description">MBTI是了解自己性格的第一步，让我们开始吧</p>
            </div>

            <div class="mbti-options">
                <div class="option-card" data-option="known">
                    <div class="option-icon">✨</div>
                    <h3>我知道我的MBTI</h3>
                    <p>从下方选择你的MBTI类型</p>
                    <div class="mbti-grid-container hidden" id="mbti-grid-container">
                        <div class="mbti-grid" id="mbti-grid">
                            <!-- MBTI卡片将通过JavaScript动态生成 -->
                        </div>
                    </div>
                </div>
                <div class="option-card" data-option="unknown">
                    <div class="option-icon">🔮</div>
                    <h3>我不知道我的MBTI</h3>
                    <p>完成20题问卷，发现你的性格类型</p>
                    <div class="info-badge">
                        <span>⏱️ 约5-8分钟</span>
                    </div>
                </div>
            </div>

            <div id="mbti-questionnaire" class="questionnaire hidden">
                <div class="questionnaire-header">
                    <div class="progress-bar">
                        <div id="mbti-progress" class="progress-fill"></div>
                    </div>
                    <div class="question-counter">
                        <span id="mbti-current">1</span> / <span id="mbti-total">20</span>
                    </div>
                </div>
                <div id="mbti-questions-container" class="questions-container"></div>
            </div>

            <div class="step-actions">
                <button id="mbti-prev-btn" class="btn btn-secondary">上一步</button>
                <button id="mbti-next-btn" class="btn btn-primary" disabled>下一步</button>
            </div>
        </div>

        <!-- 步骤2: 进入方式选择 -->
        <div id="step-entry" class="step">
            <div class="step-header">
                <div class="step-number">02</div>
                <h1 class="step-title">选择进入方式</h1>
                <p class="step-description">你可以直接进入，或深入构建更完整的数字孪生</p>
            </div>

            <div class="entry-options">
                <div class="entry-card" data-entry="direct">
                    <div class="entry-icon">🚀</div>
                    <h3>直接进入灵魂宇宙</h3>
                    <p>使用MBTI基础数据快速创建</p>
                    <div class="entry-features">
                        <span>✓ 快速创建</span>
                        <span>✓ 基础人格模型</span>
                    </div>
                </div>
                <div class="entry-card" data-entry="deep">
                    <div class="entry-icon">🌌</div>
                    <h3>进入更深层的宇宙</h3>
                    <p>完成核心层问卷，生成更详细的数字孪生</p>
                    <div class="entry-features">
                        <span>✓ 完整核心层数据</span>
                        <span>✓ Big Five人格评分</span>
                        <span>✓ 价值观与防御机制</span>
                    </div>
                    <div class="info-badge">
                        <span>⏱️ 约8-12分钟</span>
                    </div>
                </div>
            </div>

            <div id="core-questionnaire" class="questionnaire hidden">
                <div class="questionnaire-header">
                    <div class="progress-bar">
                        <div id="core-progress" class="progress-fill"></div>
                    </div>
                    <div class="question-counter">
                        <span id="core-current">1</span> / <span id="core-total">20</span>
                    </div>
                </div>
                <div id="core-questions-container" class="questions-container"></div>
            </div>

            <div class="step-actions">
                <button id="entry-back-btn" class="btn btn-secondary">上一步</button>
                <button id="entry-next-btn" class="btn btn-primary" disabled>下一步</button>
            </div>
        </div>

        <!-- 步骤3: 表象层提取 -->
        <div id="step-style" class="step">
            <div class="step-header">
                <div class="step-number">03</div>
                <h1 class="step-title">提取你的语言风格</h1>
                <p class="step-description">上传聊天记录，让AI分析你的说话方式</p>
            </div>

            <div class="style-options">
                <div class="style-card" data-style="skip">
                    <div class="style-icon">⏭️</div>
                    <h3>跳过此步骤</h3>
                    <p>使用默认语言风格设置</p>
                </div>
                <div class="style-card" data-style="upload">
                    <div class="style-icon">💬</div>
                    <h3>上传聊天记录</h3>
                    <p>提取你的真实语言风格</p>
                    <div class="info-badge">
                        <span>⏱️ 约3-5分钟</span>
                    </div>
                </div>
            </div>

            <div id="chat-upload-section" class="chat-upload-section hidden">
                <div class="relationship-form">
                    <div class="form-group">
                        <label for="wechat-name">你的微信名称 <span class="required">*</span></label>
                        <input 
                            type="text" 
                            id="wechat-name" 
                            class="form-input" 
                            placeholder="请输入你的微信名称"
                        />
                        <p class="form-hint">这将帮助系统识别聊天记录中哪些消息是你发送的</p>
                    </div>
                    <div class="form-group">
                        <label for="relationship-select">与对方的关系 <span class="required">*</span></label>
                        <select id="relationship-select" class="form-select">
                            <option value="">请选择关系类型</option>
                            <option value="恋人">恋人/伴侣</option>
                            <option value="朋友">朋友</option>
                            <option value="家人">家人</option>
                            <option value="同事">同事/同学</option>
                            <option value="其他">其他关系</option>
                        </select>
                        <div id="custom-relationship-group" class="form-group hidden" style="margin-top: 12px;">
                            <input 
                                type="text" 
                                id="custom-relationship" 
                                class="form-input" 
                                placeholder="请描述具体关系，如：网友、客户、导师等"
                            />
                        </div>
                    </div>
                </div>
                <div class="upload-area" id="upload-area">
                    <div class="upload-icon">📤</div>
                    <h3>粘贴微信聊天记录</h3>
                    <p>请将微信导出的聊天记录粘贴到下方文本框</p>
                    <textarea 
                        id="chat-input" 
                        class="chat-input" 
                        placeholder="格式示例：&#10;————— 2024-01-01 —————&#10;张三 14:30&#10;你好，最近怎么样？&#10;&#10;李四 14:32&#10;还不错，你呢？"
                    ></textarea>
                </div>
                <div class="upload-tips">
                    <h4>💡 提示</h4>
                    <ul>
                        <li>支持多段聊天记录，系统会自动整理</li>
                        <li>聊天记录越多，分析结果越准确</li>
                        <li>我们会分析你的句长、词汇、表情使用等特征</li>
                    </ul>
                </div>
            </div>

            <div class="step-actions">
                <button id="style-back-btn" class="btn btn-secondary">上一步</button>
                <button id="style-next-btn" class="btn btn-primary" disabled>生成数字孪生</button>
            </div>
        </div>

        <!-- 步骤4: 生成中 -->
        <div id="step-generating" class="step">
            <div class="generating-container">
                <div class="loading-spinner"></div>
                <h2 id="generating-title">正在生成你的数字孪生...</h2>
                <p id="generating-description">AI正在分析你的数据，请稍候</p>
                <div class="generating-progress">
                    <div id="generating-progress-bar" class="generating-progress-fill"></div>
                </div>
            </div>
        </div>

        <!-- 步骤5: 结果展示 -->
        <div id="step-result" class="step">
            <div class="result-container">
                <div class="result-header">
                    <div class="success-icon">✨</div>
                    <h1>你的数字孪生已生成！</h1>
                    <p>以下是你的完整人格画像</p>
                </div>
                <div id="result-content" class="result-content"></div>
                <div class="result-actions">
                    <button id="result-download-btn" class="btn btn-primary">下载数据</button>
                    <button id="result-enter-btn" class="btn btn-secondary">进入灵魂宇宙</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>

